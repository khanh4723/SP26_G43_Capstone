@page
@model SmartJewelry.Web.Pages.Auth.RegisterModel
@{
    ViewData["Title"] = "Đăng ký";
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Smart Jewelry</title>
    <link rel="stylesheet" href="~/css/auth.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="auth-wrapper">
    <!-- Left Panel - Branding -->
    <div class="auth-branding">
        <div class="branding-content">
            <div class="brand-logo">
                <i class="fas fa-gem"></i>
            </div>
            <h1 class="brand-name">Smart Jewelry</h1>
            <p class="brand-tagline">Trang sức & Đá quý cao cấp</p>
            
            <ul class="brand-features">
                <li>
                    <i class="fas fa-user-circle"></i>
                    <span>Lưu trữ kích thước ni tay cá nhân</span>
                </li>
                <li>
                    <i class="fas fa-history"></i>
                    <span>Theo dõi lịch sử đơn hàng</span>
                </li>
                <li>
                    <i class="fas fa-gift"></i>
                    <span>Nhận voucher và ưu đãi độc quyền</span>
                </li>
                <li>
                    <i class="fas fa-palette"></i>
                    <span>Đặt thiết kế trang sức riêng</span>
                </li>
            </ul>
        </div>
    </div>

    <!-- Right Panel - Register Form -->
    <div class="auth-form-panel">
        <div class="auth-form-container">
            <div class="auth-header">
                <h1>Tạo tài khoản</h1>
                <p>Đăng ký để khám phá bộ sưu tập độc quyền</p>
            </div>

            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="alert alert-error">
                    <i class="fas fa-exclamation-circle"></i>
                    <span>@Model.ErrorMessage</span>
                </div>
            }

            <form method="post" class="auth-form">
                @Html.AntiForgeryToken()
                
                <div class="form-group">
                    <label asp-for="Input.FullName">Họ và tên <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-user"></i>
                        <input type="text" 
                               asp-for="Input.FullName"
                               placeholder="Nguyễn Văn A"
                               autocomplete="name" />
                    </div>
                    <span asp-validation-for="Input.FullName" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.Email">Địa chỉ Email <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-envelope"></i>
                        <input type="email" 
                               asp-for="Input.Email"
                               placeholder="you@example.com"
                               autocomplete="email" />
                    </div>
                    <span asp-validation-for="Input.Email" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.PhoneNumber">Số điện thoại</label>
                    <div class="input-wrapper">
                        <i class="fas fa-phone"></i>
                        <input type="tel" 
                               asp-for="Input.PhoneNumber"
                               placeholder="0901 234 567"
                               autocomplete="tel" />
                    </div>
                    <span asp-validation-for="Input.PhoneNumber" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.Password">Mật khẩu <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input type="password" 
                               asp-for="Input.Password"
                               placeholder="Tối thiểu 6 ký tự"
                               autocomplete="new-password" />
                        <button type="button" class="password-toggle" tabindex="-1" onclick="togglePassword(this)">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="Input.Password" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.ConfirmPassword">Xác nhận mật khẩu <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input type="password" 
                               asp-for="Input.ConfirmPassword"
                               placeholder="Nhập lại mật khẩu"
                               autocomplete="new-password" />
                        <button type="button" class="password-toggle" tabindex="-1" onclick="togglePassword(this)">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="Input.ConfirmPassword" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" asp-for="Input.AgreeTerms" />
                        <span>Tôi đồng ý với <a href="/terms" target="_blank">Điều khoản dịch vụ</a> và <a href="/privacy" target="_blank">Chính sách bảo mật</a></span>
                    </label>
                    <span asp-validation-for="Input.AgreeTerms" class="field-validation-error"></span>
                </div>

                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-user-plus"></i>
                    Tạo tài khoản
                </button>
            </form>

            <div class="social-divider">
                <span>hoặc đăng ký với</span>
            </div>

            <div class="social-buttons">
                <a asp-page="/Auth/ExternalLogin" asp-route-provider="Google" class="btn-social google">
                    <i class="fab fa-google"></i>
                    <span>Google</span>
                </a>
                
                <a asp-page="/Auth/ExternalLogin" asp-route-provider="Facebook" class="btn-social facebook">
                    <i class="fab fa-facebook-f"></i>
                    <span>Facebook</span>
                </a>
                
            </div>

            <div class="auth-footer">
                <p>Đã có tài khoản? <a href="/Auth/Login">Đăng nhập ngay</a></p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.12/dist/jquery.validate.unobtrusive.min.js"></script>
<script>
    function togglePassword(btn) {
        const input = btn.parentElement.querySelector('input');
        const icon = btn.querySelector('i');
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }
</script>
</body>
</html>
