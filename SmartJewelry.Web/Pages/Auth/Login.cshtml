@page
@model SmartJewelry.Web.Pages.Auth.LoginModel
@{
    ViewData["Title"] = "Đăng nhập";
    Layout = null;
}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Smart Jewelry</title>
    <link rel="stylesheet" href="~/css/auth.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="auth-wrapper">
    <!-- Left Panel - Branding -->
    <div class="auth-branding">
        <div class="branding-content">
            <div class="brand-logo">
                <i class="fas fa-gem"></i>
            </div>
            <h1 class="brand-name">Smart Jewelry</h1>
            <p class="brand-tagline">Trang sức & Đá quý cao cấp</p>
            
            <ul class="brand-features">
                <li>
                    <i class="fas fa-certificate"></i>
                    <span>Đá quý chứng nhận GIA & GRS quốc tế</span>
                </li>
                <li>
                    <i class="fas fa-ring"></i>
                    <span>Thiết kế trang sức theo yêu cầu riêng</span>
                </li>
                <li>
                    <i class="fas fa-shield-alt"></i>
                    <span>Bảo hành trọn đời sản phẩm</span>
                </li>
                <li>
                    <i class="fas fa-shipping-fast"></i>
                    <span>Giao hàng nhanh toàn quốc</span>
                </li>
            </ul>
        </div>
    </div>

    <!-- Right Panel - Login Form -->
    <div class="auth-form-panel">
        <div class="auth-form-container">
            <div class="auth-header">
                <h1>Chào mừng trở lại</h1>
                <p>Đăng nhập để tiếp tục trải nghiệm</p>
            </div>

            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="alert alert-error">
                    <i class="fas fa-exclamation-circle"></i>
                    <span>@Model.ErrorMessage</span>
                </div>
            }

            @if (!string.IsNullOrEmpty(Model.SuccessMessage))
            {
                <div class="alert alert-success">
                    <i class="fas fa-check-circle"></i>
                    <span>@Model.SuccessMessage</span>
                </div>
            }

            <form method="post" class="auth-form">
                @Html.AntiForgeryToken()
                
                <div class="form-group">
                    <label asp-for="Input.Email">Địa chỉ Email <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-envelope"></i>
                        <input type="email" 
                               asp-for="Input.Email"
                               placeholder="you@example.com"
                               autocomplete="email" />
                    </div>
                    <span asp-validation-for="Input.Email" class="field-validation-error"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.Password">Mật khẩu <span class="required">*</span></label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input type="password" 
                               asp-for="Input.Password"
                               placeholder="••••••••"
                               autocomplete="current-password" />
                        <button type="button" class="password-toggle" tabindex="-1" onclick="togglePassword(this)">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="Input.Password" class="field-validation-error"></span>
                </div>

                <div class="form-options">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" asp-for="Input.RememberMe" />
                        <span>Ghi nhớ đăng nhập</span>
                    </label>
                    <a href="/Auth/ForgotPassword" class="forgot-link">Quên mật khẩu?</a>
                </div>

                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-sign-in-alt"></i>
                    Đăng nhập
                </button>
            </form>

            <div class="social-divider">
                <span>hoặc tiếp tục với</span>
            </div>

            <div class="social-buttons">
                <a asp-page="/Auth/ExternalLogin" asp-route-provider="Google" class="btn-social google">
                    <i class="fab fa-google"></i>
                    <span>Google</span>
                </a>
                
                <a asp-page="/Auth/ExternalLogin" asp-route-provider="Facebook" class="btn-social facebook">
                    <i class="fab fa-facebook-f"></i>
                    <span>Facebook</span>
                </a>
                
            </div>

            <div class="auth-footer">
                <p>Chưa có tài khoản? <a href="/Auth/Register">Tạo tài khoản mới</a></p>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.12/dist/jquery.validate.unobtrusive.min.js"></script>
<script>
    function togglePassword(btn) {
        const input = btn.parentElement.querySelector('input');
        const icon = btn.querySelector('i');
        if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }
</script>
</body>
</html>
